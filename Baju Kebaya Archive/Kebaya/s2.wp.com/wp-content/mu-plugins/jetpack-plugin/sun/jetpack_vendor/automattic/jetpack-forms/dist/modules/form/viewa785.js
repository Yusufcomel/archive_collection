import*as e from"@wordpress/interactivity";var r={990:(e,r,t)=>{t.d(r,{j:()=>o});const o=(e,r,t,o=null)=>{if(""===r&&t)return"is_required";if(!t&&""===r)return"yes";if("checkbox-multiple"===e)return 0!==r.length?"yes":"is_required";if("date"===e)return((e,r)=>{let t,o,i;if(!e)return!1;switch(r){case"mm/dd/yy":[o,i,t]=e.split("/").map(Number);break;case"dd/mm/yy":[i,o,t]=e.split("/").map(Number);break;case"yy-mm-dd":[t,o,i]=e.split("-").map(Number);break;default:return!1}if(isNaN(t)||isNaN(o)||isNaN(i))return!1;const n=new Date(t,o-1,i);return n.getFullYear()===t&&n.getMonth()===o-1&&n.getDate()===i})(r,o)?"yes":"invalid_date";if("number"===e)return function(e,r){if(!/^-?\d+(\.\d+)?$/.test(e))return"invalid_number";const t=parseFloat(e);return r&&void 0!==r.min&&t<parseFloat(r.min)?"invalid_min_number":r&&void 0!==r.max&&t>parseFloat(r.max)?"invalid_max_number":"yes"}(r,o);if("file"===e)return r.some(e=>e.error)?"invalid_file_has_errors":r.some(e=>!e.isUploaded)?"invalid_file_uploading":"yes";let i=null;switch(e){case"url":i=/(?:(?:[Hh][Tt][Tt][Pp][Ss]?|[Ff][Tt][Pp]):\/\/)?(?:\S+(?::\S*)?@|\d{1,3}(?:\.\d{1,3}){3}|(?:[a-zA-Z\d\u00a1-\uffff](?:[a-zA-Z\d\u00a1-\uffff-]*[a-zA-Z\d\u00a1-\uffff])?)(?:\.[a-zA-Z\d\u00a1-\uffff](?:[a-zA-Z\d\u00a1-\uffff-]*[a-zA-Z\d\u00a1-\uffff])?)*(?:\.[a-zA-Z\u00a1-\uffff]{2,6}))(?::\d+)?(?:[^\s]*)?/;break;case"email":i=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;break;case"telephone":i=/^\+?[0-9\s\-()]+$/;break;case"number":i=/^[0-9]+$/}return i&&!i.test(r)?"invalid_"+e:"yes"}},833:(r,t,o)=>{r.exports=(e=>{var r={};return o.d(r,e),r})({getConfig:()=>e.getConfig,getContext:()=>e.getContext,store:()=>e.store,withSyncEvent:()=>e.withSyncEvent})}},t={};function o(e){var i=t[e];if(void 0!==i)return i.exports;var n=t[e]={exports:{}};return r[e](n,n.exports,o),n.exports}o.d=(e,r)=>{for(var t in r)o.o(r,t)&&!o.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:r[t]})},o.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r);var i=o(833),n=o(990);const s=i.withSyncEvent||(e=>(...r)=>e(...r)),a="jetpack/form",l=(0,i.getConfig)(a),u=(e,r,t=!1)=>{const o=(0,i.getContext)().fields[e],{type:s,isRequired:a,extra:l}=o;o&&(o.value=r,o.error=(0,n.j)(s,r,a,l),o.showFieldError=t)},d=e=>{if("number"===e.type){if("invalid_min_number"===e.error)return l.error_types.invalid_min_number.replace("%d",e.extra.min);if("invalid_max_number"===e.error)return l.error_types.invalid_max_number.replace("%d",e.extra.max)}return l.error_types&&l.error_types[e.error]},{state:f}=(0,i.store)(a,{state:{get fieldHasErrors(){const e=(0,i.getContext)(),r=e.fieldId,t=e.fields[r]||{};return!(!e.showErrors&&t.error&&"is_required"===t.error)&&(e.showErrors||t.showFieldError)&&t.error&&"yes"!==t.error},get isEmptyForm(){const e=(0,i.getContext)();return!Object.values(e.fields).some(e=>""!==e.value)},get isSubmitting(){return(0,i.getContext)().isSubmitting},get isAriaDisabled(){return(0,i.getContext)().isSubmitting},get errorMessage(){const e=(0,i.getContext)(),r=e.fieldId,t=e.fields[r]||{};return(e.showErrors||t.showFieldError)&&t.error?d(t):""},get isFormValid(){if(f.isEmptyForm)return!1;const e=(0,i.getContext)();return!Object.values(e.fields).some(e=>"yes"!==e.error)},get showFromErrors(){const e=(0,i.getContext)();return!f.isFormValid&&e.showErrors},get getFormErrorMessage(){return f.isEmptyForm?l.error_types.invalid_form_empty:l.error_types.invalid_form},get getErrorList(){const e=[];if(f.isEmptyForm)return e;const r=(0,i.getContext)();return r.showErrors&&Object.values(r.fields).forEach(r=>{r.error&&"yes"!==r.error&&e.push({anchor:"#"+r.id,label:r.label+" : "+d(r),id:r.id})}),e},get getFieldValue(){const e=(0,i.getContext)(),r=e.fieldId;return e.fields[r].value}},actions:{updateFieldValue:(e,r)=>{u(e,r)},handleNumberKeyPress:s(e=>{/^[0-9.]*$/.test(e.key)||e.preventDefault(),"."===e.key&&e.target.value.includes(".")&&e.preventDefault()}),onFieldChange:e=>{let r=e.target.value;const t=(0,i.getContext)(),o=t.fieldId;"checkbox"===t.fieldType&&(r=e.target.checked?"1":""),u(o,r)},onMultipleFieldChange:e=>{const r=(0,i.getContext)(),t=r.fieldId,o=r.fields[t],n=e.target.value;let s=[...o.value||[]];e.target.checked?s.push(n):s=s.filter(e=>e!==n),u(t,s)},onFieldBlur:e=>{const r=(0,i.getContext)();u(r.fieldId,e.target.value,!0)},onFormSubmit:s(e=>{const r=(0,i.getContext)();f.isFormValid?r.isSubmitting=!0:(r.showErrors=!0,e.preventDefault(),e.stopPropagation())}),scrollIntoView:s(e=>{const r=(0,i.getContext)(),t=document.querySelector(r.item.anchor);if(t)return t.focus({preventScroll:!0}),t.scrollIntoView({behavior:"smooth"}),void e.preventDefault();const o=r.item.anchor.substring(1),n=document.querySelector('[name="'+o+'"]');if(n)return n.focus({preventScroll:!0}),n.scrollIntoView({behavior:"smooth"}),void e.preventDefault();const s=document.getElementById(o+"-label");s&&(s.querySelector("input").focus({preventScroll:!0}),s.scrollIntoView({behavior:"smooth"}),e.preventDefault())})},callbacks:{initializeField(){const e=(0,i.getContext)(),{fieldId:r,fieldType:t,fieldLabel:o,fieldValue:s,fieldIsRequired:a,fieldExtra:l}=e;((e,r,t="",o="",s=!1,a=null)=>{const l=(0,i.getContext)();l.fields[e]||(l.fields[e]={id:e,type:r,label:t,value:o,isRequired:s,extra:a,error:(0,n.j)(r,o,s,a),step:l?.step?l.step:1})})(r,t,o,s,a,l)}}});